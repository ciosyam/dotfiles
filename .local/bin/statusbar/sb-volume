#!/bin/sh

# Get the currently active sink (output device) name
current_sink=$(pactl info | grep "Default Sink:" | awk '{print $3}')

# Get the sink description
sink_description=$(pactl list sinks | grep -A 15 "Name: $current_sink" | grep "Description:" | awk -F "Description: " '{print $2}')

# Define your emoji mappings based on sink description
case "$sink_description" in
  "FiiO BTR3")
    emoji="Ôäî"
    ;;
  "PCM2902 Audio Codec Analog Stereo")
    emoji="ÔÄ• "
    ;;
  "Bluetooth")
    emoji="üì∂"
    ;;
  *)
    emoji="ÔÄÅ " # Default emoji if no match is found
    ;;
esac

# Get the volume level from pulsemixer
volume_info=$(pulsemixer --get-volume | awk '{print $1}' | awk '{printf "%d%%", $1}')

# Output the combined information with the emoji
echo "$emoji $volume_info"
